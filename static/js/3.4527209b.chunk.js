(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{384:function(e,t,c){e.exports={descBlock:"ProfileInfo_descBlock__3Sq7v",mainPhoto:"ProfileInfo_mainPhoto__1yoaP",contact:"ProfileInfo_contact__kGwox"}},386:function(e,t,c){e.exports={postsBlock:"MyPosts_postsBlock__7WCXS",posts:"MyPosts_posts__37ZFd"}},387:function(e,t,c){e.exports={item:"Post_item__36fwr"}},390:function(e,t,c){"use strict";c.r(t);var s=c(0),n=c.n(s),i=c(13),o=c.n(i),r=c(25),j=c(158),a=c(384),b=c.n(a),l=c(114),u=c(2),d=function(e){var t=Object(s.useState)(!1),c=Object(j.a)(t,2),n=c[0],i=c[1],o=Object(s.useState)(e.status),r=Object(j.a)(o,2),a=r[0],b=r[1];Object(s.useEffect)((function(){b(e.status)}),[e.status]);return Object(u.jsxs)("div",{children:[!n&&Object(u.jsxs)("div",{children:[Object(u.jsx)("b",{children:"Status: "}),Object(u.jsx)("span",{onDoubleClick:function(){i(!0)},children:e.status||"No status"})]}),n&&Object(u.jsx)("div",{children:Object(u.jsx)("input",{onChange:function(e){b(e.currentTarget.value)},autoFocus:!0,onBlur:function(){i(!1),e.updateUserStatus(a)},value:a})})]})},O=c(160),f=c(58),h=c(191),x=c(87),p=c.n(x),v=Object(h.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,c=e.profile,s=e.error;return Object(u.jsxs)("form",{onSubmit:t,children:[Object(u.jsx)("div",{children:Object(u.jsx)("button",{children:" save"})}),s&&Object(u.jsx)("div",{className:p.a.formSummaryError,children:s}),Object(u.jsxs)("div",{children:[Object(u.jsx)("b",{children:"Full name:"}),Object(f.c)("Full name","fullName",[],f.a)]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("b",{children:"Looking for a job:"}),Object(f.c)("","lookingForAJob",[],f.a,{type:"checkbox"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("b",{children:"My professional skills:"}),Object(f.c)("My professional skills","lookingForAJobDescription",[],f.b)]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("b",{children:"About me:"}),Object(f.c)("About me","aboutMe",[],f.b)]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("b",{children:"Contacts:"})," ",Object.keys(c.contacts).map((function(e){return Object(u.jsxs)("div",{className:b.a.contact,children:[Object(u.jsxs)("b",{children:[e,":"]}),Object(f.c)(e,"contacts."+e,[],f.b)]},e)}))]})]})})),m=function(e){var t=e.profile,c=e.isOwner,s=e.goToEditMode;return Object(u.jsxs)("div",{children:[c&&Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:s,children:" edit"})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("b",{children:"Full name:"})," ",t.fullName]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("b",{children:"Looking for a job:"})," ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&Object(u.jsxs)("div",{children:[Object(u.jsx)("b",{children:"My professional skills:"})," ",t.lookingForAJobDescription]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("b",{children:"About me:"})," ",t.aboutMe]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("b",{children:"Contacts:"})," ",Object.keys(t.contacts).map((function(e){return Object(u.jsx)(k,{title:e,value:t.contacts[e]},e)}))]})]})},k=function(e){var t=e.title,c=e.value;return Object(u.jsxs)("div",{className:b.a.contact,children:[Object(u.jsx)("b",{children:t}),": ",c]})},g=function(e){var t=e.profile,c=e.status,n=e.updateUserStatus,i=e.isOwner,o=e.savePhoto,r=e.saveProfile,a=Object(s.useState)(!1),f=Object(j.a)(a,2),h=f[0],x=f[1];if(!t)return Object(u.jsx)(l.a,{});var p=[];t.contacts.facebook&&p.push(Object(u.jsx)("p",{children:t.contacts.facebook})),t.contacts.website&&p.push(Object(u.jsx)("p",{children:t.contacts.website})),t.contacts.vk&&p.push(Object(u.jsx)("p",{children:t.contacts.vk}));return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:b.a.descBlock,children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:t.photos.large||O.a,className:b.a.mainPhoto}),i&&Object(u.jsx)("input",{type:"file",onChange:function(e){var t;(null===(t=e.target.files)||void 0===t?void 0:t.length)&&o(e.target.files[0])}}),h?Object(u.jsx)(v,{profile:t,initialValues:t,onSubmit:function(e){r(e).then((function(){x(!1)}))}}):Object(u.jsx)(m,{profile:t,isOwner:i,goToEditMode:function(){return x(!0)}})]}),Object(u.jsx)("div",{children:Object(u.jsx)(d,{status:c,updateUserStatus:n})})]})})},P=c(159),_=c(54),w=c(386),S=c.n(w),y=c(387),N=c.n(y),C=function(e){return Object(u.jsxs)("div",{className:N.a.item,children:[Object(u.jsx)("img",{src:"https://www.meme-arsenal.com/memes/100773de10bd652a2366e129c5053a0a.jpg",alt:"",id:"src"}),e.message,Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{children:"like"})," ",e.likeCount]})]})},F=c(112),M=Object(h.a)({form:"profile-add-post"})((function(e){return Object(u.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(u.jsx)("div",{children:Object(f.c)("Post message","newPostText",[F.b],f.b)}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{children:"Add post"})})]})})),A=function(e){var t=Object(_.a)(e.posts).reverse().map((function(e){return Object(u.jsx)(C,{message:e.message,likeCount:e.likesCount},e.id)}));return Object(u.jsxs)("div",{className:S.a.postsBlock,children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:"My posts"}),Object(u.jsx)(M,{onSubmit:function(t){e.addPost(t.newPostText)}})]}),Object(u.jsx)("div",{className:S.a.posts,children:t})]})},I=n.a.memo(A),B=c(18),J=Object(B.b)((function(e){return{posts:e.profilePage.posts}}),{addPost:P.a.addPost})(I),U=c(23),E=function(){var e=Object(U.h)(),t=Object(U.g)(),c=Object(B.d)((function(e){return e.profilePage.profile})),n=Object(B.d)((function(e){return e.profilePage.status})),i=Object(B.d)((function(e){return e.auth.userId})),j=!e.userId,a=Object(B.c)();Object(s.useEffect)((function(){var c=+e.userId;c||(c=i)||t.push("/login"),c?(l(c),d(c)):console.error("ID should exist in URI params or in the state ('authorizedUserId')")}),[n,j]);var b=function(){var e=Object(r.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(Object(P.f)(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(e){a(Object(P.c)(e))},d=function(e){a(Object(P.d)(e))};return Object(u.jsxs)("div",{children:[Object(u.jsx)(g,{profile:c,status:n,updateUserStatus:function(e){a(Object(P.g)(e))},isOwner:j,savePhoto:function(e){a(Object(P.e)(e))},saveProfile:b}),Object(u.jsx)(J,{})]})};t.default=function(){return Object(u.jsx)(E,{})}}}]);
//# sourceMappingURL=3.4527209b.chunk.js.map